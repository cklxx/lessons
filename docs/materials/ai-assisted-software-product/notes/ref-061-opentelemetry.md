# [61] OpenTelemetry：观测性三件套（logs/metrics/traces）

- 资料类型：官方文档
- 原始来源：https://opentelemetry.io/docs/
- 对应章节：第 9 章（后端架构：可观测）、第 17 章（部署与运维）

## 一句话
先把日志/指标/链路追踪的统一语义打通，你才能在生产环境回答到底哪里慢、哪里错、错在哪次调用。

## 你该从文档带走什么
- **三类信号各司其职**：logs 讲发生了什么，metrics 讲趋势与健康度，traces 讲这次请求到底卡在哪。
- **上下文传播很关键**：request_id/trace_id 贯穿服务与工具调用，否则你看不到一条请求的全链路。

## 在本书里怎么用
- 把可观测性写成验收项：必须能在 UI 或日志里定位一次请求的 token、工具调用、耗时与失败原因。
- 把模型调用也当成依赖服务：同样需要指标、采样与告警阈值。

## 常见误用
- 只打日志，不打 trace，导致知道慢但不知道慢在哪。
- 把 PII/敏感内容原样打进日志，造成合规风险（必须做脱敏与访问控制）。

