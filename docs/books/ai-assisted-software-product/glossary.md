# 术语表（全书统一用法）

> 本页用于统一中英术语与“本书语境下的用法约定”。正文首次出现相关概念时建议链接到此页。

<a id="agent"></a>
## Agent（智能体）
**定义：** 具备目标、状态与工具接口，能在约束下“推理 + 行动”以完成任务的软件实体。  
**用法约定：**
- 本书统一用“智能体”对应 Agent；避免用“代理”指代 Agent（除非明确是 network proxy）。
- 讨论 Agent 时默认包含：工具白名单、权限边界、可审计日志与失败回退。

<a id="rag"></a>
## RAG（检索增强生成 / Retrieval-Augmented Generation）
**定义：** 通过“检索外部知识 + 生成回答”降低幻觉并提升时效性的方法范式。  
**用法约定：**
- RAG 的核心是“引用可追踪”：答案能回指到检索到的片段（证据），而不是只看起来合理。
- 评估需区分：质量（faithfulness/relevance）与成本/延迟（独立指标）。

<a id="embedding"></a>
## Embedding（嵌入 / 向量表示）
**定义：** 把文本/图片等对象映射为向量，用距离/相似度刻画语义接近程度。  
**用法约定：**
- 讨论向量检索时默认包含：切分策略、归一化、索引参数与回归评测。
- Embedding ≠ 生成模型；它通常用于检索、聚类、分类或重排序特征。

<a id="fine-tuning"></a>
## Fine-tuning（微调）
**定义：** 在预训练模型基础上，用任务/领域数据继续训练以改变模型参数，使其更贴合目标分布。  
**用法约定：**
- 本书的“微调”优先指参数高效微调（LoRA/QLoRA 等），并要求配套评估与安全审查。
- 讨论微调必须同时写清：数据来源、许可证/合规边界、以及可复现的训练配置。

<a id="post-training"></a>
## Post-training（后训练）
**定义：** 预训练之后的整体对齐与能力塑形过程，包含 SFT、偏好对齐（DPO/RLHF）与安全训练等。  
**用法约定：**
- 后训练的目标是“更好用/更安全”，不等同于“在某任务上刷分”。
- 必须有“失败样本集”（红队/越狱/注入）作为回归基线。

<a id="tdd"></a>
## TDD（测试驱动开发 / Test-Driven Development）
**定义：** 先写失败测试（Red），再写最小实现（Green），最后重构（Refactor）的迭代开发方法。  
**用法约定：**
- 在 AI 辅助编码语境下，TDD 的关键是把失败输出（traceback/断言差异）作为下一轮提示的硬约束。

<a id="authn-authz"></a>
## AuthN / AuthZ（认证 / 授权）
**定义：**
- **AuthN（认证）**：你是谁（凭证校验、过期/撤销、签名验证）。
- **AuthZ（授权）**：你能做什么（角色/范围/资源级权限）。  
**用法约定：**
- 推荐分层：入口层做 AuthN，中间件做粗粒度 AuthZ，业务层做资源级 AuthZ，并记录审计事件。

<a id="idempotency"></a>
## Idempotency（幂等）
**定义：** 同一请求/事件重复执行多次，系统最终状态与执行一次等价。  
**用法约定：**
- 在 Webhook/扣费/写用量等可重试链路中，幂等的实现应依赖数据库唯一约束或等价的原子语义，避免应用层 TOCTOU。

<a id="webhook"></a>
## Webhook
**定义：** 外部系统以 HTTP 回调推送事件到你的服务端入口。  
**用法约定：**
- 默认不可信输入：必须验签、落盘可重放、幂等去重，并能解释“重复/乱序/延迟”。

<a id="observability"></a>
## Observability（可观测性）
**定义：** 通过 logs/metrics/traces 推断系统内部状态并定位问题的能力。  
**用法约定：**
- 与“审计”不同：可观测性回答“哪里慢/哪里错”，审计回答“谁在何时做了什么”。

<a id="audit-log"></a>
## Audit log（审计日志）
**定义：** 记录关键操作（身份、权限、计费、管理操作等）的不可抵赖证据链。  
**用法约定：**
- 至少包含：操作者、时间、动作、资源、结果、请求标识（request_id/trace_id）。

<a id="contract-first"></a>
## Contract-first（合同优先 / OpenAPI）
**定义：** 先定义接口契约（资源、错误模型、幂等语义、版本策略），再实现服务与生成 SDK。  
**用法约定：**
- 契约变更必须可审计，并提供 breaking change 检查作为合并卡点。

