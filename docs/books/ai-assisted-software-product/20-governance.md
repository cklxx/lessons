# 第 20 章：合规与伦理：数据、版权与安全边界
![Chapter 20 Header](../../assets/chapter_20_header.svg)

> 合规不是“上线前盖章”，而是你每天做决策时的边界：什么能收、什么能用、什么能展示、什么必须拒绝。边界写不清，增长只是在放大风险。[35][68]

对超级个体而言，合规与治理不是大公司的专利，而是你保护自己与产品的方式：它让你在最小资源下避免致命事故（隐私泄露、版权纠纷、越权访问、危险建议）。这一章的目标是把“边界”写成可执行规则，并接入审计与门禁。[6]

## 章节定位
本章是全书收束：当你已经能迭代与增长，你必须把风险当作系统默认属性来治理。这里不讨论“把所有风险消灭”，而讨论“如何把风险显性化并可裁决”：哪些风险必须阻断，哪些风险允许在边界内灰度试错。[6]

如果你需要一套能和团队/客户/合规“对齐语言”的通用框架，NIST AI RMF 提供了一个很实用的结构：风险识别、评估、缓解与持续监控不是额外工作，而应该被编织进产品生命周期——尤其是权限、审计、评测门禁与回滚这些“系统默认属性”。[77]

## 你将收获什么
- 一份“边界文档”模板：数据边界、版权边界、权限边界、行为边界（拒答与安全）。
- 一份风险登记表：风险等级、触发条件、处置与证据留档。
- 一套治理门禁：越权/泄露/注入/违规内容命中即阻断发布，退化即回滚。[6][68]

## 三层思考：治理是“把不可控变成可控”
### 第 1 层：读者目标
你要获得一个能保护自己的系统：出了问题能解释、能止损、能追责，必要时能证明你做了合理的防护与管理。[68]

### 第 2 层：论证链条
治理闭环是：

边界定义 → 数据与权限控制 → 审计与留档 → 评测与红队 → 发布门禁 → 事故处置与复盘 → 边界更新

缺边界定义，审计与评测都会失去目标；缺门禁，治理就变成口号。[6]

### 第 3 层：落地与验收
验收的核心是“可执行”：
- 边界文档能落到具体规则（拒答、过滤、权限校验、展示策略）。
- 审计能回答“谁在何时对什么做了什么”。
- 红队与回归能拦下高风险输出与越权行为。[6][68]

## 边界文档：把“不能做什么”写清楚
边界文档不是法律文件，而是工程与产品的共同协议。建议至少包含四类边界：

1) **数据边界**：你收集什么、不收集什么；如何脱敏；如何留存与删除。[35]  
2) **版权边界**：哪些内容允许训练/检索/展示；引用如何呈现；用户生成内容的权利归属。  
3) **权限边界**：租户隔离、资源级授权、导出与分享策略。[68]  
4) **行为边界**：模型拒答、风险提示、危险任务的禁止与人工确认。[6]

![图 20-1：治理闭环（边界→审计→红队→门禁→处置→复盘）示意（占位）](../../assets/figure_20_1_1766035315450.png)

**模板：边界文档（最小可执行版）**

| 类别 | 必须回答的问题 | 可执行规则示例 |
| --- | --- | --- |
| 数据 | 哪些数据不可进入系统 | 不采集/不出网/脱敏后才可用 |
| 版权 | 引用如何展示 | 必须标注来源；禁止输出受限内容全文 |
| 权限 | 谁能访问哪些资源 | 默认拒绝；跨租户阻断；导出需审计 |
| 行为 | 何时拒答/何时提示风险 | 命中高风险即拒答或要求确认 |

### 拒答不是关门：给用户留一条能继续走的路
很多人把合规理解成“把门焊死”：一触发风险就甩给用户一句“我不能回答”。这样做当然安全，但体验会非常差——用户不知道自己哪里越界，也不知道下一步怎么做，最后的结果往往是：他不是放弃任务，而是换一个更不安全的渠道去完成。

更好的拒答设计像一位有原则的向导：你不会带他去禁区，但你会告诉他**边界在哪里、为什么、以及可行的替代路线**。把“拒绝”转化为“引导”，你就能在不触碰红线的前提下维持交互的流动性，让用户仍然能完成任务的核心部分。

- 降级交付：不能生成受限内容全文时，改为输出结构化摘要、关键要点或公开信息的引用清单。
- 解释边界：用用户能理解的方式说明触发了哪类限制（隐私/医疗/法律/危险操作），并给出合规下一步（例如“请咨询专业人士”）。
- 引导改写：提示用户把目标改写成模型可安全完成的子任务（例如“给出检查清单/问题框架”而不是“给出诊断结论”）。
- 保留升级口：对高风险但可能有合法授权的场景，提供“提交授权/人工复核”的入口，而不是永远拒绝。

### 最小审计与证据包：出了事你需要什么
治理不仅是为了把风险挡在门外，更是为了在事故发生后“有据可查、能自证尽责”。很多项目直到收到投诉或合规问询，才发现日志里全是零碎调试信息：既不能还原当时发生了什么，也不能说明系统有没有启用边界策略。

你需要的是一份“最小证据包”，它不一定记录所有数据，但必须能回答四个问题：**谁触发了什么请求？当时生效的版本是什么？系统为什么这么做（或为什么没拦住）？影响面有多大？** 这份证据包越清晰，你越能把处置从情绪拉回到事实。

- 交互快照：用户原始输入、关键上下文（脱敏后）与模型原始输出；必要时包含引用/工具调用摘要。
- 版本指纹：`model_version/prompt_version/index_version/policy_version` 等，使行为可追溯可回放。
- 拦截记录：命中了哪条规则、触发原因、采取了什么动作（拒答/降级/人工确认），以及对应的告警/工单。
- 不可抵赖链路：`request_id/trace_id`、时间戳、主体标识（用户/租户），用于复盘与取证（注意合规脱敏与最小化）。
- 影响面评估：受影响请求范围、是否涉及敏感数据、是否需要通知用户/下线入口、是否需要紧急回滚。

## 风险登记表：把风险变成可管理对象
风险不怕“存在”，怕“不可见”。建议你把风险登记表作为持续资产：每次事故与红队都能回写进去。[6]

**模板：风险登记表**

| 风险 | 等级 | 触发条件 | 影响面 | 处置动作 | 证据留档 |
| --- | --- | --- | --- | --- | --- |
| 隐私泄露 | 高 | 输出包含敏感信息 | 用户/租户 | 阻断+回滚+通知 | 审计/样本/版本 |
| 越权访问 | 高 | 跨租户数据可见 | 全量 | 阻断+补回归 | 回归集+审计 |
| 版权争议 | 中 | 输出大段受限内容 | 部分 | 降级展示+提示 | 引用记录 |

## 治理门禁：把高风险变成阻断级失败
推荐把以下内容纳入“阻断级门禁”：
- 越权行为（跨租户、资源级权限绕过）。[68]
- 注入/越狱导致的边界突破（泄露提示、绕过拒答）。[6]
- 敏感信息泄露（PII、密钥、机密内容）。[35]
- 高风险内容输出（视你的产品场景定义）。[6]

这些门禁要进入回归集：命中即阻断发布，避免“线上才发现”。[6]

## 复现检查清单（本章最低门槛）
- 边界文档存在并可执行：数据/版权/权限/行为边界写清楚。[35][68]
- 风险登记表存在并持续更新：事故与红队样本能回写。[6]
- 高风险门禁进入回归：越权/泄露/注入命中即阻断发布。[6][68]
- 审计可用：关键行为可追溯可查询（支持复盘与对外解释）。[68]

## 常见陷阱（失败样本）
1. **现象**：出了事故才发现“没有边界定义”。  
   **根因**：边界只存在脑子里或口头约定。  
   **修复**：写边界文档并落到规则；把治理门禁接入发布流程。[6]

2. **现象**：安全评测做了，但上线后还是被绕过。  
   **根因**：红队不进回归；没有阻断级门禁。  
   **修复**：攻击样本常态化回归；命中即阻断发布。[6]

3. **现象**：合规要求来了才补，成本极高。  
   **根因**：数据许可与留存没提前设计。  
   **修复**：数据边界与留存策略先行；把脱敏与删除纳入日常流程。[35]

## 交付物清单与验收标准
- 边界文档（数据/版权/权限/行为）与可执行规则示例。[35][68]
- 风险登记表与处置流程（含证据留档）。[6]
- 阻断级门禁与回归集（越权/泄露/注入）。[6][68]

## 结语
当你能用证据做决策，用门槛做裁决，用回滚治理不确定性，你就拥有了“一个人也能持续交付”的系统能力。这不是天赋，而是一套可以被复用的纪律。

## 参考
详见本书统一参考文献列表：[`references.md`](references.md)。
