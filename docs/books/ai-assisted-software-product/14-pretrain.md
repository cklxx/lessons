# 第 14 章：预训练：目标、边界与成本核算

> 预训练不是“让模型更大”，而是“让模型更像你的领域”。对个人与小团队而言，预训练的第一原则是：先证明值得做，再为它付出算力与风险成本。[44][37]

这一章会很克制：你不需要被宏大叙事带走。绝大多数 0→1 产品的最短路径不是预训练，而是更好的数据边界、更好的 RAG、更好的评测回归。只有当这些路径都不足以解决问题时，预训练才值得进入你的成本表。[6][44]

## 章节定位
本章承接数据资产化，进入“模型层”的第一个大决策：你是否真的需要预训练（或增量预训练/领域适配）。它的目标不是教你搭一套训练栈，而是教你做决策：何时做、做什么、做到什么算完、何时止损。[44]

## 你将收获什么
- 一个“是否需要预训练”的决策框架：先用更便宜的路径解决问题，再考虑训练。
- 一张预训练决策卡：目标、数据、预算、风险、验收与回滚。
- 一套成本核算与止损线：让你在投入前就知道“最坏会怎样”。[44]

## 三层思考：预训练的本质是投资决策
### 第 1 层：读者目标
你要做出一个可解释的选择：投入预训练是否能带来可复利的收益（质量/成本/可控性），并且能用门槛裁决成败。

### 第 2 层：论证链条
预训练决策链条是：

问题定义 → 便宜替代方案 → 数据可用性 → 成本与风险 → 评测基线 → 训练计划 → 对比报告 → 发布与回滚

缺评测基线，训练只会变成“烧钱的感觉”。[6]

### 第 3 层：落地与验收
验收必须是对比式的：
- 与基线（不训练）相比，关键任务质量提升达到门槛；
- 守门指标不退化（安全、延迟、成本、稳定性）；
- 可回滚到旧模型（或旧策略），不把自己锁死。[6][44]

## 先问：你真的需要预训练吗
![图 14-1：预训练决策路径（先便宜方案→再训练→对比门槛→止损回滚）示意（占位）](../../assets/figure-placeholder.svg)

把问题按“缺什么”分类，会更清醒：
- **缺证据**：回答编造、知识过期 → 先做 RAG 与语料边界（见第 10 章）。[24]
- **缺流程**：任务太长、输入太乱 → 先做产品与交互（第 4–8 章）。
- **缺稳定性**：改动后波动难解释 → 先做评测回归（第 18 章）。[6]
- **缺领域能力**：模型始终理解不了你的术语、格式、风格 → 才考虑领域适配或增量预训练。[37]

## 预训练能解决什么（以及不能解决什么）
预训练/领域适配更擅长解决：
- 领域语言与术语（格式、缩写、写作风格）
- 领域知识表达方式（常见结构与模板）
- 部分“隐性规则”（但不保证可解释）

它不擅长解决：
- 权威事实的实时更新（更适合 RAG）
- 复杂动作链路与权限边界（更适合 Agent + 工具合同）
- 缺乏评测基线的“感觉更好”

## 模板：预训练决策卡（先写再动手）
| 字段 | 说明 |
| --- | --- |
| 目标 | 想提升什么能力（必须可评测） |
| 基线方案 | 不训练时怎么做（RAG/提示/流程） |
| 数据 | 来源、许可、覆盖范围、偏差 |
| 预算 | 钱、时间、算力上限与止损线 |
| 风险 | 安全、合规、遗忘、不可控输出 |
| 评测 | 关键任务回归集 + 守门指标 |
| 成功门槛 | 提升阈值（对比式） |
| 回滚 | 如何回到旧模型/旧策略 |

## 成本核算：把“可能性”变成“账本”
对个人来说，成本核算的意义不是算到小数点，而是确定三件事：
- 你能否承受最坏情况（预算止损）；
- 你能否得到可解释的收益（对比门槛）；
- 你能否在失败后安全撤退（回滚与资产留存）。[44]

建议你至少估算三类成本：
- **直接成本**：训练算力、存储、带宽、工程时间。
- **机会成本**：本可以用于产品验证与增长的时间。
- **风险成本**：合规审查、质量波动、回归维护。 [44]

## 评测先行：训练不是终点，对比报告才是
预训练的“交付物”不是模型文件，而是对比报告：
- 哪些任务变好了（达到门槛）；
- 哪些任务变差了（守门指标是否越界）；
- 为什么会变（数据与策略解释）；
- 是否值得上线（以及如何灰度与回滚）。[6]

## 复现检查清单（本章最低门槛）
- 预训练决策卡已写：目标、预算、风险、成功门槛、回滚齐全。[44]
- 已有评测基线：不训练的方案可运行、可对比。[6]
- 有止损线：达不到门槛或守门指标退化就停。[44]

## 常见陷阱（失败样本）
1. **现象**：花了大量预算，效果说不清。  
   **根因**：没有评测基线与门槛；训练成了“许愿”。  
   **修复**：先建回归集与对比门槛；对比不过就止损。[6]

2. **现象**：某些能力变好了，但通用能力退化或变危险。  
   **根因**：数据偏差、遗忘与缺乏守门指标。  
   **修复**：设置守门评测与回归；退化即回滚到基线策略。[6]

3. **现象**：训练做完却无法上线，运维与成本压垮团队。  
   **根因**：只算训练成本，不算推理与维护成本。  
   **修复**：把“上线成本”纳入预算；不满足长期成本就不做。[44]

## 交付物清单与验收标准
- 预训练决策卡与止损线。[44]
- 评测基线与对比报告（含守门指标）。[6]
- 上线与回滚计划（模型/策略版本化）。[6]

## 下一章
预训练讨论“让模型更像你的领域”。下一章进入后训练：如何用 SFT/DPO/RLHF 等方法把行为调成可控，并把安全与回归纳入门禁。见：[`15-posttrain-rl.md`](15-posttrain-rl.md)。

## 参考
详见本书统一参考文献列表：[`references.md`](references.md)。
