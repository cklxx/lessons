# 第 13 章：预训练：目标、栈与成本核算

## 本章目标

- 什么时候需要预训练？什么时候只需微调或 RAG？
- 了解预训练的核心组件：tokenizer、数据、训练目标、算力与稳定性
- 建立投入产出的决策框架，避免盲目烧钱

## 章节结构（大纲）

### 13.1 决策：预训练 vs 微调 vs RAG

- 需求维度：领域专用语言、长上下文、推理能力、成本/延迟
- 风险维度：数据合规、算力、人才与运维复杂度

### 13.2 训练目标与数据配比

- 目标：Causal LM、Mixture、领域增量
- 数据：通用 vs 领域、比例与采样策略

### 13.3 训练栈与工程要点

- 分布式训练、混合精度、检查点、容错
- 监控：loss、梯度、吞吐、OOM、发散

### 13.4 成本核算与里程碑

- Token 规模、算力预算、训练时长估算
- 分阶段里程碑：小模型验证 → 放大训练 → 评测 → 安全过滤

## 本章交付物

- 一份是否预训练的决策表
- 预训练里程碑计划（含预算与风险）

!!! tip "AI 提示词（复制即用）"
    我会告诉你产品目标、领域特点、预算与上线时间。请输出：1) 是否需要预训练/微调/RAG 的决策建议（给出理由与风险）；2) 若预训练：数据规模、训练里程碑与粗略成本；3) 必须提前准备的工程与合规事项清单。用 Markdown 输出。

