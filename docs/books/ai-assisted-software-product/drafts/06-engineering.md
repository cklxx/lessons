# 第 6 章：工程化与代码编程：把 AI 纳入流水线

## 本章目标

- 让 AI 参与编码，但输出可维护、可测试、可审计的工程结果
- 建立代码规范、目录结构、CI、测试与发布流程
- 用“小步快跑 + 自动回归”降低 AI 生成代码的不可控风险

## 章节结构（大纲）

### 6.1 技术选型与边界

- 前端、后端、数据库、消息队列、缓存、对象存储
- 选型原则：团队熟悉度、可观测性、成本、生态与合规

### 6.2 仓库结构与工程规范

- Monorepo vs Polyrepo
- 代码风格、lint/format、commit 规范、分支策略
- ADR（架构决策记录）与变更日志

### 6.3 测试策略：单元/集成/E2E

- 从 PRD 的验收标准生成测试用例（可用 AI 辅助）
- 数据库迁移、回滚、种子数据、测试隔离

### 6.4 AI 参与编码的“护栏”

- 约束式生成：先接口、后实现；先测试、后代码
- 代码评审清单：安全、性能、可维护性、边界条件
- 依赖安全：供应链、许可证、版本锁定

## 本章交付物

- 项目脚手架（目录结构、配置、示例模块）
- CI 流水线（lint/test/build）
- 代码评审清单（含 AI 生成代码专用条目）

!!! tip "AI 提示词（复制即用）"
    你是资深 Tech Lead。请基于“Web SaaS + RAG/Agent + 订阅付费”的需求，给出一套工程化落地清单：仓库结构、模块边界、测试分层、CI 步骤、代码评审 checklist、以及 AI 参与编码时的约束（禁止/必须）。用 Markdown 输出。

