# 后续书写/修订任务清单（Backlog）

> 本清单用于把“下一步写什么、怎么验收”结构化；默认以 `chapter-*.md` 为正文，`01-*.md` 为写作底稿（不参与站点导航）。

## 本轮已完成（编辑一致性）
- 将各章的“正文扩展稿（用于成书排版）”统一更名为“深度解析：核心原则”，避免读者把高价值内容当作草稿跳过。
- Ch04 补齐：可复制 Prompt 示例 + “失败输出回喂”反馈闭环描述。
- Ch05 补齐：AuthN/AuthZ 分层请求生命周期 + Webhook 幂等的原子事务边界与竞态提醒。

---

## P0（必须做，影响全书一致性）
1. **术语与中英对照统一**：建立/补齐 `glossary.md` 并在正文首次出现时链接；验收：全书不再出现同一概念多译混用（例如“代理/智能体”“鉴权/授权/认证”）。
2. **章节结构一致性检查**：为每章补齐缺失的小节（定位/收获/方法/路径/复现/陷阱/练习/验收/深度解析）；验收：所有 `chapter-*.md` 都包含同一套一级标题集合（允许按内容裁剪，但需显式说明“本章不适用”）。
3. **每章 1 个“可复制端到端例子”**：每章至少 1 个 `示例（可复制）` 块，包含：目标/上下文/约束/输出格式/验证命令/失败判定/回滚；验收：读者无需补上下文即可复用模板结构。
4. **引用与参考文献完整性**：补一个引用自检流程（允许手工/脚本）；验收：正文引用的 `[n]` 均能在 `references.md` 找到，且无明显错链/重复编号。
5. **“make/CI”命令命名对齐**：统一各章正文示例中的任务命名风格（如 `make <domain>-check`）；验收：同一类检查在不同章节不出现多个名称（例如 `make api-test` vs `make backend-check` 需给出主推与别名策略）。
6. **“深度解析”与正文衔接**：在每章进入“深度解析：核心原则”前加一句“为什么值得读/与上文关系”；验收：读者能明确本节是方法的抽象与迁移，而非附录残稿。

## P1（提升可读性与可迁移性）
1. **关键流程补结构图**：每章至少 1 张（Mermaid 架构/时序/状态机三选一；若不启用 Mermaid，则用等价的纯文本流程图/表格替代）；验收：图表在 Markdown 中可阅读且不依赖外部截图文件。
2. **“失败样本驱动”写作模板化**：把“常见陷阱”改写为“症状 → 根因 → 复现 → 修复 → 回归验证”；验收：每章至少覆盖 3 个可复现失败模式。
3. **把 Prompt Library 抽到附录并回链**：将正文里的高频 Prompt 汇总到 `B-prompts.md`，正文只保留 1 个代表性示例；验收：正文示例与附录模板互相链接，读者能快速复用。
4. **把验收标准写成可检查项**：对“交付物与验收”增加“最低门槛/可选增强”；验收：每条验收项都能对应一个验证动作（命令/日志/报告/截图）。
5. **章节间交叉引用**：为关键概念加“详见第 X 章”；验收：每章至少 2 处跨章链接，且不产生循环依赖式跳读。

## P2（长期优化）
1. **一致的代码片段风格**：统一语言标注、注释密度、占位符写法（`path/to/file`、`YOUR_TOKEN`）；验收：随机抽 3 章对比，代码块风格一致。
2. **增加“安全与合规边界”对照表**：汇总 PII、凭据、支付与模型数据边界的处理建议；验收：表格能直接作为项目安全 checklist 使用。
3. **补“读者路径”与“角色视角”导读**：在总览页补 3 条阅读路径（产品/工程/模型）；验收：读者能按目标（上线/提质/降本）快速定位章节。
