# 第 9 章：多代理协作与研究系统

当任务需要同时探索多个方向时，多代理系统是一个自然的选择。Anthropic 的研究系统采用“主代理 + 子代理”的结构：主代理负责理解问题、拆解任务、整合结果，子代理并行检索与分析，把可用材料汇总回主代理。这样做的直接效果是并行探索与上下文分离，主代理只接收整理后的信息，不必承载所有检索细节。[64]

工程文章里提到，多代理对“广度优先”的问题尤其有效，例如同时搜索多家公司或多领域的资料。并行带来的收益很大，但代价也很直观：更多的工具调用和更多的 token。系统是否值得采用这种结构，取决于任务本身的价值和复杂度。[64]

为了让多代理协作真正可控，文章强调了几条经验做法：主代理需要明确地分配子任务；子代理需要清楚的目标、输出格式和工具边界；对任务复杂度设定投入规模，避免简单问题被过度拆分；搜索策略先宽后窄，避免过早走进死胡同。[64]

评估方式也需要调整。多代理并不总是沿着同一路径完成任务，因此评估更像是看最终结果是否符合预期，而不是检查每一步是否一致。工程文章提到使用自动评估与人工回看结合，既能在规模上跑起来，也能发现系统在真实使用中的偏差。[64]

多代理系统把“协作”带进了 agent 架构里，也带来了新的工程挑战：可观测性、回放能力、协调逻辑的复杂度都会上升。它不是每个任务都需要的默认形态，但当单一代理的上下文和时间都不够时，它提供了一个现实可行的扩展方式。[64]
